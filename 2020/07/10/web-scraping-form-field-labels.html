<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>web-scraping form field labels</title>
    <link rel="stylesheet" href="/assets/css/styles.css">
  </head>
  <body>
    <div>
    <nav>
	<div class="header">
		<h1>rustyelectron.live</h1>
		
		<a href="/"
			
			>
			home
		</a>
		
		<a href="/blog.html"
			
			>
			blog
		</a>
		
		<a href="https://twitter.com/rustyelectron"
			 target=_blank 
			>
			twitter
		</a>
		
		<a href="https://github.com/rusty-electron"
			 target=_blank 
			>
			github
		</a>
		
		</div>
</nav>


    
    <div class='entry'>
<h2>web-scraping form field labels</h2>



<p>My cousin asked me to help with the documents required for a college form website so I checked the site but was too lazy to write it all down. I quickly wrote the following python script, grabbed the form labels and sent him the list. I think this could serve as a good boilerplate code.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">link</span> <span class="o">=</span> <span class="s">"[insert form link here]"</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">link</span><span class="p">)</span>
<span class="n">foundFile</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="n">text</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">foundFile</span><span class="p">,</span> <span class="s">'html.parser'</span><span class="p">)</span>
<span class="n">foundDivs</span> <span class="o">=</span> <span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">"div"</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s">"label_title"</span><span class="p">)</span>

<span class="k">for</span> <span class="n">div</span> <span class="ow">in</span> <span class="n">foundDivs</span><span class="p">:</span>
	<span class="n">textContent</span> <span class="o">=</span> <span class="n">div</span><span class="p">.</span><span class="n">text</span>
	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">textContent</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
		<span class="n">textContent</span> <span class="o">=</span> <span class="n">textContent</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="s">'*'</span><span class="p">,</span><span class="s">''</span><span class="p">)</span>
		<span class="k">print</span><span class="p">(</span><span class="n">textContent</span><span class="p">)</span>
</code></pre></div></div>


<small><em> Fri, 10 Jul 2020 00:24:49 +0530 </em></small>
</div>

    
    
  </body>
</html>
